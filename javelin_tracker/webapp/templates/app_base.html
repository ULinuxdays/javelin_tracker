{% extends "base.html" %}

{% block body %}
<div class="app-layout">
  <aside class="sidebar">
    <div class="sidebar__brand">
      <span class="brand-dot"></span>
      Throws Control
    </div>
    <div class="sidebar__greeting">Hi {{ g.user.name if g.user else 'Coach' }}</div>
    <nav class="sidebar__nav">
      <a href="{{ url_for('dashboard') }}" class="sidebar__link {% if page_slug == 'dashboard' %}is-active{% endif %}">Dashboard</a>
      <a href="{{ url_for('sessions_page') }}" class="sidebar__link {% if page_slug == 'sessions' %}is-active{% endif %}">Sessions</a>
      <a href="{{ url_for('logs_page') }}" class="sidebar__link {% if page_slug == 'logs' %}is-active{% endif %}">Logs</a>
      <a href="{{ url_for('analytics_page') }}" class="sidebar__link {% if page_slug == 'analytics' %}is-active{% endif %}">Analytics</a>
      <a href="{{ url_for('athletes_page') }}" class="sidebar__link {% if page_slug == 'athletes' %}is-active{% endif %}">Athletes</a>
      <a href="{{ url_for('training_page') }}" class="sidebar__link {% if page_slug == 'throwai' %}is-active{% endif %}">ThrowAI</a>
      <a href="{{ url_for('weight_room_page') }}" class="sidebar__link {% if page_slug == 'weightroom' %}is-active{% endif %}">Weight room</a>
      <a href="{{ url_for('reports_page') }}" class="sidebar__link {% if page_slug == 'reports' %}is-active{% endif %}">Reports</a>
    </nav>
    <div class="sidebar__actions">
      <a class="ghost" href="{{ url_for('sessions_page') }}">Log session</a>
      <form method="post" action="{{ url_for('auth_logout') }}">
        <button type="submit" class="ghost">Sign out</button>
      </form>
    </div>
  </aside>
  <main class="app-main" data-page="{{ page_slug }}">
    <header class="topbar">
      <div class="topbar__title">
        <p class="eyebrow">Control room</p>
        <h1>{{ page_slug|title if page_slug else 'Overview' }}</h1>
      </div>
      <div class="topbar__actions">
        <a class="ghost" href="{{ url_for('sessions_page') }}">New session</a>
        <a class="ghost" href="{{ url_for('athletes_page') }}">Athletes</a>
      </div>
    </header>
    {% block content %}{% endblock %}
  </main>
</div>
{% endblock %}
